<form method="get" class="filtro-form">
  {% if mostrar_asignatura %}
    <label>Asignatura:</label>
    <select name="asignatura">
      <option value="">Todas</option>
      {% for asignatura in asignaturas %}
        <option value="{{ asignatura.id }}" {% if asignatura.id|stringformat:"s" == asignatura_actual %}selected{% endif %}>
          {{ asignatura.nombre }}
        </option>
      {% endfor %}
    </select>
  {% endif %}

  {% if mostrar_trimestre %}
    <label>Trimestre:</label>
    <select name="trimestre">
      <option value="">Todos</option>
      <option value="1" {% if trimestre_actual == '1' %}selected{% endif %}>1ยบ Trimestre</option>
      <option value="2" {% if trimestre_actual == '2' %}selected{% endif %}>2ยบ Trimestre</option>
      <option value="3" {% if trimestre_actual == '3' %}selected{% endif %}>3ยบ Trimestre</option>
      <option value="4" {% if trimestre_actual == '4' %}selected{% endif %}>* Vacaciones</option>
    </select>
  {% endif %}

  {% if mostrar_curso %}
    <label>Curso:</label>
    <select name="curso">
      <option value="">Todos</option>
      <optgroup label="Primaria">
        {% for opcion, texto in cursos_primaria %}
          <option value="{{ opcion }}" {% if opcion == curso_actual %}selected{% endif %}>{{ texto }}</option>
        {% endfor %}
      </optgroup>
      <optgroup label="Secundaria">
        {% for opcion, texto in cursos_secundaria %}
          <option value="{{ opcion }}" {% if opcion == curso_actual %}selected{% endif %}>{{ texto }}</option>
        {% endfor %}
      </optgroup>
    </select>
  {% endif %}

  <button type="submit">Filtrar</button>
</form>
